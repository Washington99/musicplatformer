[gd_scene load_steps=13 format=4 uid="uid://cj72s0jxrbj6v"]

[ext_resource type="PackedScene" uid="uid://cjyf3dk4bye4q" path="res://Scenes/player.tscn" id="1_3u1c2"]
[ext_resource type="TileSet" uid="uid://bl2o7yp2wf0hx" path="res://Assets/tilemap.tres" id="1_qlsst"]
[ext_resource type="Script" path="res://Scripts/music_node.gd" id="2_gnpmi"]
[ext_resource type="Texture2D" uid="uid://diusx406ladht" path="res://Assets/music-notes-glyph-style-set.png" id="3_dhgg8"]
[ext_resource type="Texture2D" uid="uid://uqqj0c6wya6r" path="res://Assets/music note.svg" id="3_ka186"]
[ext_resource type="Script" path="res://Scripts/instrument_node.gd" id="4_lbjbj"]
[ext_resource type="Script" path="res://Scripts/sample_interactable.gd" id="5_dq177"]
[ext_resource type="PackedScene" uid="uid://c44tohe5obyy" path="res://Scenes/gate.tscn" id="8_ptjbk"]
[ext_resource type="Script" path="res://Scripts/puzzle_2.gd" id="8_tn8h7"]
[ext_resource type="PackedScene" uid="uid://qkjd7gmxk5n7" path="res://Scenes/switch.tscn" id="9_4ifvk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2lcuh"]
size = Vector2(70, 50)

[sub_resource type="CircleShape2D" id="CircleShape2D_mpbrx"]
radius = 50.0

[node name="TestScene" type="Node2D"]
position = Vector2(20, 24)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
position = Vector2(-3, -2)
tile_map_data = PackedByteArray("AAD//xMAAAADAAIAAAD//xQAAAADAAIAAAD//xUAAAADAAIAAAD//xYAAAADAAIAAAD//xcAAAADAAIAAAD//xgAAAACAAEAAAAFABgAAAACAAEAAAAGABcAAAAJAAIAAAAGABgAAAACAAEAAAAHABYAAAAIAAEAAAAHABcAAAAIAAIAAAAHABgAAAACAAEAAAAIABYAAAAJAAEAAAAIABcAAAAJAAIAAAAIABgAAAACAAEAAAAJABYAAAAIAAEAAAAJABcAAAAIAAIAAAAJABgAAAACAAEAAAAKABYAAAAJAAEAAAAKABcAAAAJAAIAAAAKABgAAAACAAEAAAALABYAAAAIAAEAAAALABcAAAAIAAIAAAALABgAAAACAAEAAAAMABYAAAAJAAEAAAAMABcAAAAJAAIAAAAMABgAAAACAAEAAAANABYAAAAIAAEAAAANABcAAAAIAAIAAAANABgAAAACAAEAAAAOABYAAAAJAAEAAAAOABcAAAAJAAIAAAAOABgAAAACAAEAAAAPABYAAAAIAAEAAAAPABcAAAAIAAIAAAAPABgAAAACAAEAAAAQABYAAAAJAAEAAAAQABcAAAAJAAIAAAAQABgAAAACAAEAAAARABYAAAAIAAEAAAARABcAAAAIAAIAAAARABgAAAACAAEAAAASABYAAAAJAAEAAAASABcAAAAJAAIAAAASABgAAAACAAEAAAAaABQAAAABAAYAAAAaABUAAAABAAcAAAAbABQAAAADAAYAAAAbABUAAAADAAcAAAAcABEAAAABAAYAAAAcABIAAAABAAcAAAAdABEAAAADAAYAAAAdABIAAAADAAcAAAAeAA4AAAABAAYAAAAeAA8AAAABAAcAAAAfAA4AAAADAAYAAAAfAA8AAAADAAcAAAAgAAsAAAABAAYAAAAgAAwAAAABAAcAAAAhAAsAAAADAAYAAAAhAAwAAAADAAcAAAAiAAgAAAABAAYAAAAiAAkAAAABAAcAAAAjAAgAAAADAAYAAAAjAAkAAAADAAcAAAD//xIAAAADAAIAAAAAABgAAAACAAEAAAABABgAAAACAAEAAAACABgAAAACAAEAAAADABgAAAACAAEAAAAEABgAAAACAAEAAAAFABcAAAAFAAEAAAAGABYAAAAFAAEAAAAHABUAAAAFAAEAAAAIABUAAAACAAEAAAAJABUAAAACAAEAAAAKABUAAAACAAEAAAALABUAAAACAAEAAAAMABUAAAACAAEAAAANABUAAAACAAEAAAAOABUAAAACAAEAAAAPABUAAAACAAEAAAAQABUAAAACAAEAAAARABUAAAACAAEAAAASABUAAAACAAEAAAATABgAAAACAAEAAAAUABgAAAACAAEAAAAVABgAAAACAAEAAAAWABgAAAACAAEAAAAXABgAAAACAAEAAAAaABMAAAABAAUAAAAbABMAAAADAAUAAAAcABAAAAABAAUAAAAdABAAAAADAAUAAAAeAA0AAAABAAUAAAAfAA0AAAADAAUAAAAgAAoAAAABAAUAAAAhAAoAAAADAAUAAAAiAAcAAAABAAUAAAAjAAcAAAADAAUAAAAkAAQAAAAFAAEAAAAkAAUAAAABAAYAAAAkAAYAAAABAAcAAAAlAAQAAAADAAUAAAAlAAUAAAADAAYAAAAlAAYAAAADAAcAAAAYABMAAAABAAUAAAAYABQAAAABAAYAAAAYABUAAAABAAcAAAAZABMAAAADAAUAAAAZABQAAAADAAYAAAAZABUAAAADAAcAAAAYABYAAAABAAUAAAAYABcAAAABAAYAAAAYABgAAAABAAcAAAAZABYAAAADAAUAAAAZABcAAAADAAYAAAAZABgAAAADAAcAAAAYAA0AAAABAAUAAAAYAA4AAAABAAYAAAAYAA8AAAABAAcAAAAYABAAAAABAAUAAAAYABEAAAABAAYAAAAYABIAAAABAAcAAAAZAA0AAAADAAUAAAAZAA4AAAADAAYAAAAZAA8AAAADAAcAAAAZABAAAAADAAUAAAAZABEAAAADAAYAAAAZABIAAAADAAcAAAAYAAcAAAABAAUAAAAYAAgAAAABAAYAAAAYAAkAAAABAAcAAAAYAAoAAAABAAUAAAAYAAsAAAABAAYAAAAYAAwAAAABAAcAAAAZAAcAAAADAAUAAAAZAAgAAAADAAYAAAAZAAkAAAADAAcAAAAZAAoAAAADAAUAAAAZAAsAAAADAAYAAAAZAAwAAAADAAcAAAAYAAQAAAAFAAEAAAAYAAUAAAABAAYAAAAYAAYAAAABAAcAAAAZAAQAAAADAAUAAAAZAAUAAAADAAYAAAAZAAYAAAADAAcAAAAaAAQAAAAFAAEAAAAaAAUAAAABAAYAAAAaAAYAAAABAAcAAAAbAAQAAAADAAUAAAAbAAUAAAADAAYAAAAbAAYAAAADAAcAAAAaAAcAAAABAAUAAAAaAAgAAAABAAYAAAAaAAkAAAABAAcAAAAbAAcAAAADAAUAAAAbAAgAAAADAAYAAAAbAAkAAAADAAcAAAAaAAoAAAABAAUAAAAaAAsAAAABAAYAAAAaAAwAAAABAAcAAAAbAAoAAAADAAUAAAAbAAsAAAADAAYAAAAbAAwAAAADAAcAAAAaAA0AAAABAAUAAAAaAA4AAAABAAYAAAAaAA8AAAABAAcAAAAbAA0AAAADAAUAAAAbAA4AAAADAAYAAAAbAA8AAAADAAcAAAAaABAAAAABAAUAAAAaABEAAAABAAYAAAAaABIAAAABAAcAAAAbABAAAAADAAUAAAAbABEAAAADAAYAAAAbABIAAAADAAcAAAAaABYAAAABAAUAAAAaABcAAAABAAYAAAAaABgAAAABAAcAAAAbABYAAAADAAUAAAAbABcAAAADAAYAAAAbABgAAAADAAcAAAAcAAQAAAAFAAEAAAAcAAUAAAABAAYAAAAcAAYAAAABAAcAAAAdAAQAAAADAAUAAAAdAAUAAAADAAYAAAAdAAYAAAADAAcAAAAcAAcAAAABAAUAAAAcAAgAAAABAAYAAAAcAAkAAAABAAcAAAAdAAcAAAADAAUAAAAdAAgAAAADAAYAAAAdAAkAAAADAAcAAAAcAAoAAAABAAUAAAAcAAsAAAABAAYAAAAcAAwAAAABAAcAAAAdAAoAAAADAAUAAAAdAAsAAAADAAYAAAAdAAwAAAADAAcAAAAcAA0AAAABAAUAAAAcAA4AAAABAAYAAAAcAA8AAAABAAcAAAAdAA0AAAADAAUAAAAdAA4AAAADAAYAAAAdAA8AAAADAAcAAAAcABMAAAABAAUAAAAcABQAAAABAAYAAAAcABUAAAABAAcAAAAdABMAAAADAAUAAAAdABQAAAADAAYAAAAdABUAAAADAAcAAAAcABYAAAABAAUAAAAcABcAAAABAAYAAAAcABgAAAABAAcAAAAdABYAAAADAAUAAAAdABcAAAADAAYAAAAdABgAAAADAAcAAAAeAAQAAAAFAAEAAAAeAAUAAAABAAYAAAAeAAYAAAABAAcAAAAfAAQAAAADAAUAAAAfAAUAAAADAAYAAAAfAAYAAAADAAcAAAAeAAcAAAABAAUAAAAeAAgAAAABAAYAAAAeAAkAAAABAAcAAAAfAAcAAAADAAUAAAAfAAgAAAADAAYAAAAfAAkAAAADAAcAAAAeAAoAAAABAAUAAAAeAAsAAAABAAYAAAAeAAwAAAABAAcAAAAfAAoAAAADAAUAAAAfAAsAAAADAAYAAAAfAAwAAAADAAcAAAAeABAAAAABAAUAAAAeABEAAAABAAYAAAAeABIAAAABAAcAAAAfABAAAAADAAUAAAAfABEAAAADAAYAAAAfABIAAAADAAcAAAAeABMAAAABAAUAAAAeABQAAAABAAYAAAAeABUAAAABAAcAAAAfABMAAAADAAUAAAAfABQAAAADAAYAAAAfABUAAAADAAcAAAAeABYAAAABAAUAAAAeABcAAAABAAYAAAAeABgAAAABAAcAAAAfABYAAAADAAUAAAAfABcAAAADAAYAAAAfABgAAAADAAcAAAAgAAQAAAAFAAEAAAAgAAUAAAABAAYAAAAgAAYAAAABAAcAAAAhAAQAAAADAAUAAAAhAAUAAAADAAYAAAAhAAYAAAADAAcAAAAgAAcAAAABAAUAAAAgAAgAAAABAAYAAAAgAAkAAAABAAcAAAAhAAcAAAADAAUAAAAhAAgAAAADAAYAAAAhAAkAAAADAAcAAAAgAA0AAAABAAUAAAAgAA4AAAABAAYAAAAgAA8AAAABAAcAAAAhAA0AAAADAAUAAAAhAA4AAAADAAYAAAAhAA8AAAADAAcAAAAgABAAAAABAAUAAAAgABEAAAABAAYAAAAgABIAAAABAAcAAAAhABAAAAADAAUAAAAhABEAAAADAAYAAAAhABIAAAADAAcAAAAgABMAAAABAAUAAAAgABQAAAABAAYAAAAgABUAAAABAAcAAAAhABMAAAADAAUAAAAhABQAAAADAAYAAAAhABUAAAADAAcAAAAgABYAAAABAAUAAAAgABcAAAABAAYAAAAgABgAAAABAAcAAAAhABYAAAADAAUAAAAhABcAAAADAAYAAAAhABgAAAADAAcAAAAiAAQAAAAFAAEAAAAiAAUAAAABAAYAAAAiAAYAAAABAAcAAAAjAAQAAAADAAUAAAAjAAUAAAADAAYAAAAjAAYAAAADAAcAAAAiAAoAAAABAAUAAAAiAAsAAAABAAYAAAAiAAwAAAABAAcAAAAjAAoAAAADAAUAAAAjAAsAAAADAAYAAAAjAAwAAAADAAcAAAAiAA0AAAABAAUAAAAiAA4AAAABAAYAAAAiAA8AAAABAAcAAAAjAA0AAAADAAUAAAAjAA4AAAADAAYAAAAjAA8AAAADAAcAAAAiABAAAAABAAUAAAAiABEAAAABAAYAAAAiABIAAAABAAcAAAAjABAAAAADAAUAAAAjABEAAAADAAYAAAAjABIAAAADAAcAAAAiABMAAAABAAUAAAAiABQAAAABAAYAAAAiABUAAAABAAcAAAAjABMAAAADAAUAAAAjABQAAAADAAYAAAAjABUAAAADAAcAAAAiABYAAAABAAUAAAAiABcAAAABAAYAAAAiABgAAAABAAcAAAAjABYAAAADAAUAAAAjABcAAAADAAYAAAAjABgAAAADAAcAAAAkAAcAAAABAAUAAAAkAAgAAAABAAYAAAAkAAkAAAABAAcAAAAlAAcAAAADAAUAAAAlAAgAAAADAAYAAAAlAAkAAAADAAcAAAAkAAoAAAABAAUAAAAkAAsAAAABAAYAAAAkAAwAAAABAAcAAAAlAAoAAAADAAUAAAAlAAsAAAADAAYAAAAlAAwAAAADAAcAAAAkAA0AAAABAAUAAAAkAA4AAAABAAYAAAAkAA8AAAABAAcAAAAlAA0AAAADAAUAAAAlAA4AAAADAAYAAAAlAA8AAAADAAcAAAAkABAAAAABAAUAAAAkABEAAAABAAYAAAAkABIAAAABAAcAAAAlABAAAAADAAUAAAAlABEAAAADAAYAAAAlABIAAAADAAcAAAAkABMAAAABAAUAAAAkABQAAAABAAYAAAAkABUAAAABAAcAAAAlABMAAAADAAUAAAAlABQAAAADAAYAAAAlABUAAAADAAcAAAAkABYAAAABAAUAAAAkABcAAAABAAYAAAAkABgAAAABAAcAAAAlABYAAAADAAUAAAAlABcAAAADAAYAAAAlABgAAAADAAcAAAAmAAQAAAABAAEAAAAnAAQAAAACAAEAAAAoAAQAAAADAAEAAAAmAAUAAAABAAEAAAAnAAUAAAACAAEAAAAoAAUAAAADAAEAAAApAAUAAAABAAEAAAAqAAUAAAACAAEAAAArAAUAAAADAAEAAAApAAQAAAABAAEAAAAqAAQAAAACAAEAAAArAAQAAAADAAEAAAAoACAAAAACAAEAAAApACAAAAACAAEAAAAqACAAAAACAAEAAAArACAAAAACAAEAAAAsACAAAAACAAEAAAAtACAAAAACAAEAAAAuACAAAAACAAEAAAAvACAAAAACAAEAAAAwACAAAAACAAEAAAAxACAAAAACAAEAAAAyACAAAAACAAEAAAAzACAAAAACAAEAAAA0ACAAAAACAAEAAAA1ACAAAAACAAEAAAA2ACAAAAACAAEAAAA3ACAAAAACAAEAAAA4ACAAAAACAAEAAAAnACAAAAACAAEAAAAmACAAAAACAAEAAAAlACAAAAACAAEAAAAkACAAAAACAAEAAAAjACAAAAACAAEAAAA5ACAAAAACAAEAAAA6ACAAAAACAAEAAAA7ACAAAAACAAEAAAA8ACAAAAACAAEAAAAiACAAAAACAAEAAAAhACAAAAACAAEAAAAgACAAAAACAAEAAAAfACAAAAACAAEAAAAhAB0AAAACAAEAAAAhABwAAAACAAEAAAAhABsAAAACAAEAAAAgABsAAAACAAEAAAAgABoAAAACAAEAAAAhABoAAAACAAEAAAAhABkAAAACAAEAAAAgABkAAAACAAEAAAAgABwAAAACAAEAAAAgAB0AAAACAAEAAAAzAB0AAAABAAUAAAA0AB0AAAACAAUAAAA1AB0AAAACAAUAAAA2AB0AAAACAAUAAAA3AB0AAAADAAUAAAAqAB0AAAABAAUAAAArAB0AAAACAAUAAAAsAB0AAAACAAUAAAAtAB0AAAACAAUAAAAuAB0AAAADAAUAAAA=")
tile_set = ExtResource("1_qlsst")

[node name="SampleInteractable" type="Node2D" parent="."]
position = Vector2(204, 304)
script = ExtResource("5_dq177")

[node name="Sprite2D" type="Sprite2D" parent="SampleInteractable"]
scale = Vector2(0.035, 0.035)
texture = ExtResource("3_dhgg8")

[node name="Area2D" type="Area2D" parent="SampleInteractable"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="SampleInteractable/Area2D"]
position = Vector2(0.5, -0.5)
shape = SubResource("RectangleShape2D_2lcuh")

[node name="Player" parent="." instance=ExtResource("1_3u1c2")]
position = Vector2(453, 28)

[node name="Camera2D" type="Camera2D" parent="Player"]
zoom = Vector2(3, 3)

[node name="MusicNode" type="Node2D" parent="Player"]
script = ExtResource("2_gnpmi")

[node name="Sprite2D" type="Sprite2D" parent="Player/MusicNode"]
visible = false
position = Vector2(0, -25)
texture = ExtResource("3_ka186")

[node name="Area2D" type="Area2D" parent="Player/MusicNode"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/MusicNode/Area2D"]
shape = SubResource("CircleShape2D_mpbrx")
disabled = true

[node name="Timer" type="Timer" parent="Player/MusicNode"]
one_shot = true

[node name="InstrumentNode" type="Node2D" parent="Player"]
visible = false
script = ExtResource("4_lbjbj")

[node name="Control" type="Control" parent="Player/InstrumentNode"]
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_right = 118.0
offset_bottom = 40.0
grow_horizontal = 2
grow_vertical = 2

[node name="Guitar" type="Button" parent="Player/InstrumentNode/Control"]
layout_mode = 0
offset_left = 28.0
offset_top = 46.0
offset_right = 85.0
offset_bottom = 77.0
text = "Guitar"

[node name="Piano" type="Button" parent="Player/InstrumentNode/Control"]
layout_mode = 0
offset_left = 89.0
offset_top = 46.0
offset_right = 141.0
offset_bottom = 77.0
text = "Piano"

[node name="Puzzle2" type="Node2D" parent="."]
position = Vector2(508, 400)
script = ExtResource("8_tn8h7")
switch_order = Array[String](["1", "2", "3", "4", "5"])

[node name="Gate" parent="Puzzle2" instance=ExtResource("8_ptjbk")]
position = Vector2(9, 78)

[node name="switch1" parent="Puzzle2" instance=ExtResource("9_4ifvk")]
position = Vector2(120, 94)
is_one_time = true
switch_name = "1"

[node name="switch2" parent="Puzzle2" instance=ExtResource("9_4ifvk")]
position = Vector2(264, 94)
is_one_time = true
switch_name = "2"

[node name="switch3" parent="Puzzle2" instance=ExtResource("9_4ifvk")]
position = Vector2(424, 94)
is_one_time = true
switch_name = "3"

[node name="switch4" parent="Puzzle2" instance=ExtResource("9_4ifvk")]
position = Vector2(336, 48)
is_one_time = true
switch_name = "4"

[node name="switch5" parent="Puzzle2" instance=ExtResource("9_4ifvk")]
position = Vector2(192, 48)
is_one_time = true
switch_name = "5"

[connection signal="area_entered" from="Player/MusicNode/Area2D" to="SampleInteractable" method="_on_area_2d_area_entered"]
[connection signal="area_exited" from="Player/MusicNode/Area2D" to="SampleInteractable" method="_on_area_2d_area_exited"]
[connection signal="timeout" from="Player/MusicNode/Timer" to="Player/MusicNode" method="_on_timer_timeout"]
[connection signal="pressed" from="Player/InstrumentNode/Control/Guitar" to="SampleInteractable" method="_on_guitar_pressed"]
[connection signal="pressed" from="Player/InstrumentNode/Control/Guitar" to="Player/InstrumentNode" method="_on_guitar_pressed"]
[connection signal="pressed" from="Player/InstrumentNode/Control/Piano" to="SampleInteractable" method="_on_piano_pressed"]
[connection signal="pressed" from="Player/InstrumentNode/Control/Piano" to="Player/InstrumentNode" method="_on_piano_pressed"]
[connection signal="switch_on" from="Puzzle2/switch1" to="Puzzle2" method="_on_switch_1_switch_on"]
[connection signal="switch_on" from="Puzzle2/switch2" to="Puzzle2" method="_on_switch_2_switch_on"]
[connection signal="switch_on" from="Puzzle2/switch3" to="Puzzle2" method="_on_switch_3_switch_on"]
[connection signal="switch_on" from="Puzzle2/switch4" to="Puzzle2" method="_on_switch_4_switch_on"]
[connection signal="switch_on" from="Puzzle2/switch5" to="Puzzle2" method="_on_switch_5_switch_on"]
